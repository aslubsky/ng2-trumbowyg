export class TrumbowygInsertMediaEmbedPlugin {
    static init(editor, lang) {
        TrumbowygInsertMediaEmbedPlugin.editor = editor;
        editor.plugins.insertMediaEmbed = {
            init: (trumbowyg) => {
                trumbowyg.o.plugins.insertMediaEmbed = trumbowyg.o.plugins.insertMediaEmbed || {};
                trumbowyg.addBtnDef('insertMediaEmbed', {
                    fn: (params, t) => {
                        //console.log('insertMediaEmbed');
                        var t = trumbowyg;
                        var html = [];
                        html.push('<div class="modal-container">');
                        html.push('<div class="modal-meadia-embed">');
                        html.push('<textarea></textarea>');
                        html.push('</div>');
                        html.push('</div>');
                        console.log('insertMediaEmbed');
                        var $modal = t.openModal('Embed Code', html.join(''))
                            .on('tbwconfirm', () => {
                            t.restoreRange();
                            t.syncCode();
                            var code = jQuery('textarea', $modal).val();
                            if (code) {
                                TrumbowygInsertMediaEmbedPlugin.editor.insertHtml(t, code);
                            }
                            setTimeout(() => {
                                t.closeModal();
                            }, 250);
                        })
                            .on('tbwcancel', () => {
                            t.restoreRange();
                            t.closeModal();
                        });
                    }
                });
            }
        };
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5zZXJ0LW1lZGlhLWVtYmVkLmpzIiwic291cmNlUm9vdCI6Ii9ob21lL2FzbHVic2t5L3dvcmsvY29sbGFib3JhdG9yL25nMi10cnVtYm93eWcvc3JjLyIsInNvdXJjZXMiOlsiaW5zZXJ0LW1lZGlhLWVtYmVkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sT0FBTywrQkFBK0I7SUFHakMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFXLEVBQUUsSUFBWTtRQUN4QywrQkFBK0IsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBRWhELE1BQU0sQ0FBQyxPQUFPLENBQUMsZ0JBQWdCLEdBQUc7WUFDOUIsSUFBSSxFQUFFLENBQUMsU0FBYyxFQUFFLEVBQUU7Z0JBQ3JCLFNBQVMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLGdCQUFnQixHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsT0FBTyxDQUFDLGdCQUFnQixJQUFJLEVBQUUsQ0FBQztnQkFDbEYsU0FBUyxDQUFDLFNBQVMsQ0FBQyxrQkFBa0IsRUFBRTtvQkFDcEMsRUFBRSxFQUFFLENBQUMsTUFBVyxFQUFFLENBQU0sRUFBRSxFQUFFO3dCQUN4QixrQ0FBa0M7d0JBQ2xDLElBQUksQ0FBQyxHQUFHLFNBQVMsQ0FBQzt3QkFFbEIsSUFBSSxJQUFJLEdBQWEsRUFBRSxDQUFDO3dCQUN4QixJQUFJLENBQUMsSUFBSSxDQUFDLCtCQUErQixDQUFDLENBQUM7d0JBQzNDLElBQUksQ0FBQyxJQUFJLENBQUMsa0NBQWtDLENBQUMsQ0FBQzt3QkFDOUMsSUFBSSxDQUFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxDQUFDO3dCQUNuQyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO3dCQUNwQixJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO3dCQUVwQixPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDLENBQUM7d0JBRWhDLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUM7NkJBQ2hELEVBQUUsQ0FBQyxZQUFZLEVBQUUsR0FBRyxFQUFFOzRCQUNuQixDQUFDLENBQUMsWUFBWSxFQUFFLENBQUM7NEJBQ2pCLENBQUMsQ0FBQyxRQUFRLEVBQUUsQ0FBQzs0QkFFYixJQUFJLElBQUksR0FBRyxNQUFNLENBQUMsVUFBVSxFQUFFLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDOzRCQUM1QyxJQUFJLElBQUksRUFBRTtnQ0FDTiwrQkFBK0IsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsQ0FBQzs2QkFDOUQ7NEJBRUQsVUFBVSxDQUFDLEdBQUcsRUFBRTtnQ0FDWixDQUFDLENBQUMsVUFBVSxFQUFFLENBQUM7NEJBQ25CLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQzt3QkFDWixDQUFDLENBQUM7NkJBQ0QsRUFBRSxDQUFDLFdBQVcsRUFBRSxHQUFHLEVBQUU7NEJBQ2xCLENBQUMsQ0FBQyxZQUFZLEVBQUUsQ0FBQzs0QkFDakIsQ0FBQyxDQUFDLFVBQVUsRUFBRSxDQUFDO3dCQUNuQixDQUFDLENBQUMsQ0FBQztvQkFDWCxDQUFDO2lCQUNKLENBQUMsQ0FBQztZQUNQLENBQUM7U0FDSixDQUFBO0lBQ0wsQ0FBQztDQUNKIiwic291cmNlc0NvbnRlbnQiOlsiZGVjbGFyZSB2YXIgalF1ZXJ5OiBhbnk7XG5cbmV4cG9ydCBjbGFzcyBUcnVtYm93eWdJbnNlcnRNZWRpYUVtYmVkUGx1Z2luIHtcbiAgICBwdWJsaWMgc3RhdGljIGVkaXRvcjogYW55O1xuXG4gICAgcHVibGljIHN0YXRpYyBpbml0KGVkaXRvcjogYW55LCBsYW5nOiBzdHJpbmcpIHtcbiAgICAgICAgVHJ1bWJvd3lnSW5zZXJ0TWVkaWFFbWJlZFBsdWdpbi5lZGl0b3IgPSBlZGl0b3I7XG5cbiAgICAgICAgZWRpdG9yLnBsdWdpbnMuaW5zZXJ0TWVkaWFFbWJlZCA9IHtcbiAgICAgICAgICAgIGluaXQ6ICh0cnVtYm93eWc6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHRydW1ib3d5Zy5vLnBsdWdpbnMuaW5zZXJ0TWVkaWFFbWJlZCA9IHRydW1ib3d5Zy5vLnBsdWdpbnMuaW5zZXJ0TWVkaWFFbWJlZCB8fCB7fTtcbiAgICAgICAgICAgICAgICB0cnVtYm93eWcuYWRkQnRuRGVmKCdpbnNlcnRNZWRpYUVtYmVkJywge1xuICAgICAgICAgICAgICAgICAgICBmbjogKHBhcmFtczogYW55LCB0OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coJ2luc2VydE1lZGlhRW1iZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdHJ1bWJvd3lnO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaHRtbDogc3RyaW5nW10gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwucHVzaCgnPGRpdiBjbGFzcz1cIm1vZGFsLWNvbnRhaW5lclwiPicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbC5wdXNoKCc8ZGl2IGNsYXNzPVwibW9kYWwtbWVhZGlhLWVtYmVkXCI+Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sLnB1c2goJzx0ZXh0YXJlYT48L3RleHRhcmVhPicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbC5wdXNoKCc8L2Rpdj4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwucHVzaCgnPC9kaXY+Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbnNlcnRNZWRpYUVtYmVkJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciAkbW9kYWwgPSB0Lm9wZW5Nb2RhbCgnRW1iZWQgQ29kZScsIGh0bWwuam9pbignJykpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uKCd0Yndjb25maXJtJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnJlc3RvcmVSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0LnN5bmNDb2RlKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvZGUgPSBqUXVlcnkoJ3RleHRhcmVhJywgJG1vZGFsKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRydW1ib3d5Z0luc2VydE1lZGlhRW1iZWRQbHVnaW4uZWRpdG9yLmluc2VydEh0bWwodCwgY29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuY2xvc2VNb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAyNTApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm9uKCd0YndjYW5jZWwnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQucmVzdG9yZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQuY2xvc2VNb2RhbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iXX0=